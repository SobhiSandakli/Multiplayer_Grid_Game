<div class="fight-modal" *ngIf="isFight">
    <div class="image-container">
        <div class="overlay"></div>
    </div>
    <h3>COMBAT</h3>
    <div class="fight-content">
        <div class="player-info">
            <p>Attaquant ({{ sessionService.playerName }})</p>
            <p *ngIf="isCombatTurn">
                <span>C'est votre tour de tenter une attaque!</span>
                <!--- <span
                *ngIf="
                sessionService.playerAttributes?.life?.currentValue !== undefined &&
                sessionService.playerAttributes?.life?.currentValue < 2 &&
                escapeAttempt > 0
                "
                >
                    Il vous reste 1 vie, une évasion pourrait vous sauvez!</span> -->
                Attaque : {{ sessionService.playerAttributes?.attack?.currentValue }} ({{ sessionService.playerAttributes?.attack?.dice }})
            </p>
            <p *ngIf="!isCombatTurn">
                Défense : {{ sessionService.playerAttributes?.attack?.currentValue }} ({{ sessionService.playerAttributes?.defence?.dice }})
            </p>
            <p>
                Points de vie restants : {{ sessionService.playerAttributes?.life?.currentValue }}/{{
                    sessionService.playerAttributes?.life?.baseValue
                }}
            </p>
            <img [src]="playerAvatar" alt="Votre avatar" />
        </div>

        <div class="opponent-info">
            <p>Opposant ({{ combatOpponentInfo?.name }})</p>
            <p *ngIf="isCombatTurn">
                <span>C'est votre tour de tenter une attaque!</span>
            </p>
            <!--<p>Attaque : {{ combatOpponentInfo?.attack }}</p>
            
            <p>Défense : {{ combatOpponentInfo.defence }}</p>
            
            <p>Points de vie restants : {{ combatOpponentInfo.life }}</p> -->
            <img class="player-avatar" [src]="combatOpponentInfo?.avatar" alt="Avatar de l'adversaire" />
        </div>

        <!--<div *ngIf="isFight" class="fight-container" [class.highlight-turn]="isCombatTurn"> -->
        <!--- <app-dice
            [isCombatTurn]="isCombatTurn"
            [attackBase]="attackBase"
            [defenceBase]="defenceBase"
            [attackRoll]="attackRoll"
            [defenceRoll]="defenceRoll"
            [success]="attackSuccess"
            ></app-dice>
            <button id="attack" (click)="chooseAttack()" [disabled]="isAttackOptionDisabled">Attaque</button>
            <button *ngIf="escapeAttempt !== 0" id="escape" (click)="chooseEvasion()" [disabled]="isEvasionOptionDisabled">
                Évasion ({{ escapeAttempt }} tentatives)
            </button>-->
    </div>
    <div class="player-avatar"></div>
</div>
